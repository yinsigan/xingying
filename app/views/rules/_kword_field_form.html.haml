%div{id: "kword_form_#{kword.index}_#{rule_id}"}

  -# 删除表单按钮
  .form-group
    .col-sm-10
    .col-sm-2.text-right
      %a{class: "gray_link delete_kword_form", data: {delete: "kword_form_#{kword.index}_#{rule_id}", title: t('delete'), toggle: "tooltip", placement: "top", tooltip: true}}
        %span.glyphicon.glyphicon-trash

  -# 填写规则名
  .form-group
    = kword.label :content, class: "col-sm-2 control-label required"
    .col-sm-8
      = kword.text_field :content, class: "form-control", required: true
  -# 选择类型
  .form-group
    = kword.label :subjectable_type, class: "col-sm-2 control-label"
    .col-sm-8
      = kword.select :subjectable_type, options_for_select(Kword::ReplyType.invert), {include_blank: false}, {:class => "form-control select_reply_type ajax_load", data: {remote: true, url: reply_content_public_account_rules_path(@public_account, kword_index: kword.index, rule_id: rule_id, kword_object: kword.object)} }

  %div{id: "reply_content_#{kword.index}_#{rule_id}"}

  = kword.hidden_field :public_account_id, value: @public_account.id

:javascript
  // 删除表单操作
  $('.delete_kword_form').on('click', function(event) {
    event.preventDefault();
    event.stopPropagation();
    var delete_form = "#" + $(this).data("delete");
    $(delete_form).remove();
  });
  // 自动触发类型选择
  $(".select_reply_type").trigger('change');
  $('button[data-tooltip], a[data-tooltip]').tooltip()
