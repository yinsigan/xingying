.modal-header
  %button.close{"data-dismiss" => "modal", :type => "button"}
    %span{"aria-hidden" => "true"} &times;
    %span.sr-only Close
  %h4#mymodal.modal-title= t('delete_confirm')
.modal-body
  %p
    = confirm
.modal-footer
  = link_to t('delete'), delete_url, "data-method" => :delete, class: "btn btn-danger", remote: true, id: "delete_all", remote: remote
  %button{type: "button", class: "btn btn-default", "data-dismiss" => "modal"}
    = t('close')

:javascript
  $(document).ready(function(){
    $("#delete_all").on("ajax:before", function(event) {
      var el = $(this);
      el.attr('data-params', $(":checkbox").serialize());
      $("body").spin();
    })
    $("#delete_all").on("ajax:complete", function(event, xhr, status) {
      var el = $(this);
      el.removeAttr('data-params');
      $("body").spin(false);
    })
    $("#delete_all").on('click', function() {
       $('#modal').delay(2000).modal('hide');
    });
  });
