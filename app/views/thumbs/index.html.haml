= render partial: "material/tab"
.panel.panel-default{style: "margin-top: 30px"}
  .panel-heading
    %h3.panel-title
      = t('.thumb_count', count: @public_account.thumbs_count)
  .panel-body

    .row.clearfix
      .col-md-2.pull-right
        = file_field_tag "image", "data-url" => "/public_accounts/#{@public_account.id}/thumbs/upload", "data-progress" => "progress_div", :class => "filestyle", "data-buttonText" => "#{t('upload')}", "data-input" => false, "data-badge" => false, "data-buttonBefore" => false, "data-buttonName" => "btn-success"
        #progress_div.progress.min-progress{style: "display: none;"}
          .progress-bar{"aria-valuemax" => "100", "aria-valuemin" => "0", "aria-valuenow" => "1", :role => "progressbar", :style => "width: 0%;"}
    .row.operate
      .col-md-12
        #operate-button.page-header
          %input.icheck-me#check_all{"data-color" => "blue", "data-skin" => "square", :type => "checkbox"}/
          %label{for: "check_all", style: "font-weight: normal"}
            全选
          = link_to "移动分组", nil, class: "btn btn-default disabled"
          = link_to "删除", delete_all_public_account_thumbs_path(@public_account), class: "btn btn-danger disabled", remote: true
    .row
      #pic_content.col-md-12
        = render @thumbs
    .row
      #checkbox_select.col-md-12
        = paginate @thumbs

:javascript

  $(document).on("page:change", function() {
    $("#image").ajax_upload();
    $("#check_all").on('ifChecked', function() {
      $(".icheck-me").iCheck("check");
    });
    $("#check_all").on('ifUnchecked', function() {
      $(".icheck-me").iCheck("uncheck")
    });
    $(".icheck-me").on("ifChanged", function() {
      if( $(".icheck-me").is(":checked") ) {
        $("#operate-button a").removeClass("disabled");
      } else {
        $("#operate-button a").addClass("disabled");
      }
    });
  });
