.modal-header
  %button.close{"data-dismiss" => "modal", :type => "button"}
    %span{"aria-hidden" => "true"} &times;
    %span.sr-only Close
  %h4#mymodal.modal-title= t('.move')
.modal-body
  .radio
    %label
      %input.me{"data-color" => "blue", "data-skin" => "square", :type => "radio", value: 0, name: "thumb_group_id"}
      = t('.no_group')
  - @thumb_groups.each do |thumb_group|
    .radio
      %label
        %input.me{"data-color" => "blue", "data-skin" => "square", :type => "radio", value: thumb_group.id, name: "thumb_group_id"}
        = thumb_group.name
.modal-footer
  = link_to t('sure'), move_group_public_account_thumbs_path(@public_account, ids: @ids), "data-method" => :post, class: "btn btn-primary", remote: true, id: "move_group"
  %button{type: "button", class: "btn btn-default", "data-dismiss" => "modal"}
    = t('close')

:javascript
  $("#move_group").on("ajax:before", function(event) {
    var el = $(this);
    el.attr('data-params', $(":radio").serialize());
    $("body").spin();
  })
  $("#move_group").on("ajax:complete", function() {
    var el = $(this);
    var modal = $("#modal");
    $("body").spin(false);
  })
  $("#move_group").on("ajax:success", function() {
    Turbolinks.visit();
  });
  $("#move_group").on('click', function() {
    var modal = $("#modal");
    modal.delay(2000).modal('hide');
  });
  function icheck(){
    if($(".me").length > 0){
      $(".me").each(function(){
        var $el = $(this);
        var skin = ($el.attr('data-skin') !== undefined) ? "_" + $el.attr('data-skin') : "",
        color = ($el.attr('data-color') !== undefined) ? "-" + $el.attr('data-color') : "";
        var opt = {
          checkboxClass: 'icheckbox' + skin + color,
          radioClass: 'iradio' + skin + color,
        }
        $el.iCheck(opt);
      });
    }
  }

  $(function(){
    icheck();
  })
